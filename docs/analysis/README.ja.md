# .kuiはHTMLの約半分のトークンで、グリッド記法でより直感的にUIを伝える

[English](./README.md)

LLMにUIを説明するとき、どの形式が一番効率的か？

3つの異なる複雑さのワイヤーフレームで検証しました。

## パターン別結果

### シンプル: login
_4x3グリッド、4コンポーネント_

| 形式 | トークン数 | HTML比 |
|------|-----------|--------|
| 自然言語 | 102 | -69% |
| ASCIIアート | 84 | -75% |
| .kui | 120 | -64% |
| HTML | 330 | — |

### 中程度: dashboard
_4x3グリッド、6コンポーネント_

| 形式 | トークン数 | HTML比 |
|------|-----------|--------|
| 自然言語 | 155 | -50% |
| ASCIIアート | 142 | -54% |
| .kui | 174 | -44% |
| HTML | 310 | — |

### 複雑: ecommerce
_6x5グリッド、12コンポーネント、異なるセルサイズの混在_

| 形式 | トークン数 | HTML比 |
|------|-----------|--------|
| 自然言語 | 339 | -51% |
| ASCIIアート | 248 | -64% |
| .kui | 374 | -46% |
| HTML | 693 | — |

## まとめ

| パターン | .kui | HTML | 削減率 |
|----------|------|------|--------|
| login | 120 | 330 | -64% |
| dashboard | 174 | 310 | -44% |
| ecommerce | 374 | 693 | -46% |
| **平均** | — | — | **-50%** |

## なぜ.kuiを選ぶのか？

### 1. トークン効率
HTMLの約半分のトークン数でUIを伝達。会話1回で平均150トークン節約。

### 2. グリッド記法が直感的
`A1..D1`のようなExcel風のセル指定で、LLMも人間も迷わず位置を把握・編集できる。

### 3. 形式ごとの比較

| 形式 | メリット | デメリット |
|------|----------|------------|
| **.kui** | 正確・編集可能・直感的 | ASCIIより多いトークン |
| 自然言語 | 最小トークン | 解釈が曖昧 |
| ASCIIアート | コンパクト | 編集で崩れる |
| HTML | 標準的・正確 | 2倍のトークン |

## どうやって計測したか

1. 同じUIを4形式で記述
2. Claude APIの[トークンカウントAPI](https://docs.anthropic.com/en/docs/build-with-claude/token-counting)で計測

## 自分で再現する

```bash
export ANTHROPIC_API_KEY="your-key"
npx ts-node scripts/count-tokens.ts
```

---

**トークンを節約して、もっと速くUIを形にしませんか？**

[→ Katsuaragiを使い始める](../../README.ja.md)
